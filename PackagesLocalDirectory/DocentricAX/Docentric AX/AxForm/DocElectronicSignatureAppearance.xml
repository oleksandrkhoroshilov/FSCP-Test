<?xml version="1.0" encoding="utf-8"?>
<AxForm xmlns:i="http://www.w3.org/2001/XMLSchema-instance" xmlns="Microsoft.Dynamics.AX.Metadata.V6">
	<Name>DocElectronicSignatureAppearance</Name>
	<SourceCode>
		<Methods xmlns="">
			<Method>
				<Name>classDeclaration</Name>
				<Source><![CDATA[
using Docentric.AX.Framework;

[Form]
public class DocElectronicSignatureAppearance extends FormRun
{
    #SysSystemDefinedButtons

    private DocDocumentUnitOfMeasure currentUnitOfMeasure;

}
]]></Source>
			</Method>
			<Method>
				<Name>init</Name>
				<Source><![CDATA[
    /// <summary>
    /// Initializes the fornm.
    /// </summary>
    public void init()
    {
        super();

        // Hide the Attach button.
        FormCommandButtonControl button = this.control(this.controlId(#SystemDefinedAttachButton)) as FormCommandButtonControl;
        if (button)
        {
            button.visible(false);
        }

        // Buttons for signature image
        element.viewEditModeHelper().EditModeSwitched += eventhandler(this.enableButtons);
        element.viewEditModeHelper().ViewModeSwitched += eventhandler(this.enableButtons);
        element.enableButtons();

        // Add filter fields to the Filter Pane
        DocElectronicSignatureAppearance_ds.query().addQueryFilter(DocElectronicSignatureAppearance_ds.queryBuildDataSource(), fieldstr(DocElectronicSignatureAppearance, SignatureAppearanceId));
        DocElectronicSignatureAppearanceGroup_ds.query().addQueryFilter(DocElectronicSignatureAppearanceGroup_ds.queryBuildDataSource(), fieldstr(DocElectronicSignatureAppearanceGroup, GroupId));
    }

]]></Source>
			</Method>
			<Method>
				<Name>enableButtons</Name>
				<Source><![CDATA[
    /// <summary>
    /// Enables/Disables the image buttons.
    /// </summary>
    private void enableButtons()
    {
        boolean enabledButtons = element.viewEditModeHelper().isInEditMode();

        ChangeSignatureImage.enabled(enabledButtons);
        RemoveSignatureImage.enabled(enabledButtons);
    }

]]></Source>
			</Method>
			<Method>
				<Name>setControls</Name>
				<Source><![CDATA[
    /// <summary>
    /// Sets the form controls.
    /// </summary>
    private void setControls()
    {
        DocElectronicSignatureAppearance_ds.object(fieldNum(DocElectronicSignatureAppearance, SignatureLanguageId)).allowEdit(DocElectronicSignatureAppearance.SignatureLanguageToUse == DocSignatureLanguageToUse::ExplicitlyDefined);
        DocElectronicSignatureAppearance_ds.object(fieldNum(DocElectronicSignatureAppearance, SignatureLanguageId)).mandatory(DocElectronicSignatureAppearance.SignatureLanguageToUse == DocSignatureLanguageToUse::ExplicitlyDefined);
    }

]]></Source>
			</Method>
			<Method>
				<Name>showImage</Name>
				<Source><![CDATA[
    /// <summary>
    /// Shows the signature image.
    /// </summary>
    /// <param name = "_imageControl">Form Image control</param>
    /// <param name = "_imageContainer">Image container</param>
    private void showImage(FormWindowControl _imageControl, container _imageContainer)
    {
        try
        {
            if (_imageContainer)
            {
                Image image = new Image();
                image.setData(_imageContainer);
                _imageControl.image(image);
            }
            else
            {
                _imageControl.image(null);
            }
        }
        catch (Exception::Warning)
        {
            throw error("@DocentricAX3:ElectronicSignatureAppearanceErrorImageNotOpened");
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>refreshDocumentViewer</Name>
				<Source><![CDATA[
    /// <summary>
    /// Refreshes the Document Viewer with the signature preview.
    /// </summary>
    private void refreshDocumentViewer()
    {
        DocuRef docuRef = DocuRef::findTableIdRecId(DocElectronicSignatureAppearance.DataAreaId, DocElectronicSignatureAppearance.TableId, DocElectronicSignatureAppearance.RecId);
        DocDocumentViewer.setDocuRefRecord(docuRef);
        DocDocumentViewer.referencesDocuRef(1);
        if (!docuRef)
        {
            List documents = new List(Types::Class);
            DocDocumentViewer.parmDocuments(documents);
        }
        DocDocumentViewer.ReferencedRecordChangeCommand();
    }

]]></Source>
			</Method>
		</Methods>
		<DataSources xmlns="">
			<DataSource>
				<Name>DocElectronicSignatureAppearance</Name>
				<Methods>
					<Method>
						<Name>active</Name>
						<Source><![CDATA[
        /// <summary>
        /// Called when the record becomes active.
        /// </summary>
        /// <returns>True/False</returns>
        public int active()
        {
            int ret = super();

            // Set form controls
            element.setControls();

            // Show the image in Form Image control
            SignatureImageDimGroup.visible(DocElectronicSignatureAppearance.SignatureImage != conNull());
            SignatureImage.showImage();

            // Refresh the Document Viewer with the signature preview
            element.refreshDocumentViewer();

            // Store the current unit of measure for further use when converting values to the new selected unit of measure
            currentUnitOfMeasure = DocElectronicSignatureAppearance.UnitOfMeasure;
    
            return ret;
        }

]]></Source>
					</Method>
					<Method>
						<Name>delete</Name>
						<Source><![CDATA[
        /// <summary>
        /// Called when the record is deleted.
        /// </summary>
        public void delete()
        {
            super();

            SignatureImageDimGroup.visible(false);

            SignatureImage.showImage();

            element.refreshDocumentViewer();
        }

]]></Source>
					</Method>
				</Methods>
				<Fields>
					<Field>
						<DataField>SignatureDateTimeFormat</DataField>
						<Methods>
							<Method>
								<Name>lookup</Name>
								<Source><![CDATA[
            /// <summary>
            /// Calls a lookup form.
            /// </summary>
            /// <param name = "_formControl">Form cotnrol</param>
            /// <param name = "_filterStr">Filter string</param>
            public void lookup(FormControl _formControl, str _filterStr)
            {
                DocFormatStringLookup::newShowOnlyDateTimeFormats().lookupFormatString(_formControl);
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
					<Field>
						<DataField>SignatureLanguageToUse</DataField>
						<Methods>
							<Method>
								<Name>modified</Name>
								<Source><![CDATA[
            /// <summary>
            /// Called when the value is changed.
            /// </summary>
            public void modified()
            {
                super();

                element.setControls();
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
					<Field>
						<DataField>UnitOfMeasure</DataField>
						<Methods>
							<Method>
								<Name>modified</Name>
								<Source><![CDATA[
            /// <summary>
            /// Called when the value is changed.
            /// </summary>
            public void modified()
            {
                super();

                DocDocumentLengthUnit sourceUnitOfMeasure, targetUnitOfMeasure;
                sourceUnitOfMeasure = DocGlobalHelper::getDotNetEnumValueForXppEnumValue(
                                             sourceUnitOfMeasure.GetType(),
                                             enumNum(DocDocumentUnitOfMeasure),
                                             currentUnitOfMeasure);

                targetUnitOfMeasure = DocGlobalHelper::getDotNetEnumValueForXppEnumValue(
                                             targetUnitOfMeasure.GetType(),
                                             enumNum(DocDocumentUnitOfMeasure),
                                             DocElectronicSignatureAppearance.UnitOfMeasure);

                // Convert signature appearance offset and size from previous unit of measure to the selected one
                DocElectronicSignatureAppearance.Width = DocDocumentLength::Convert(sourceUnitOfMeasure, DocElectronicSignatureAppearance.Width, targetUnitOfMeasure);
                DocElectronicSignatureAppearance.Height = DocDocumentLength::Convert(sourceUnitOfMeasure, DocElectronicSignatureAppearance.Height, targetUnitOfMeasure);
                DocElectronicSignatureAppearance.HorizontalOffset = DocDocumentLength::Convert(sourceUnitOfMeasure, DocElectronicSignatureAppearance.HorizontalOffset, targetUnitOfMeasure);
                DocElectronicSignatureAppearance.VerticalOffset = DocDocumentLength::Convert(sourceUnitOfMeasure, DocElectronicSignatureAppearance.VerticalOffset, targetUnitOfMeasure);

                // Store the new selected unit of measure
                currentUnitOfMeasure = DocElectronicSignatureAppearance.UnitOfMeasure;
            }

]]></Source>
							</Method>
						</Methods>
					</Field>
				</Fields>
			</DataSource>
		</DataSources>
		<DataControls xmlns="">
			<Control>
				<Name>ChangeSignatureImage</Name>
				<Type>Button</Type>
				<Methods>
					<Method>
						<Name>clicked</Name>
						<Source><![CDATA[
        /// <summary>
        /// Replaces the current signature image with the new one.
        /// </summary>
        public void clicked()
        {
            FileUploadTemporaryStorageResult result = File::GetFileFromUser(classStr(DocFileUploadTemporarySignatureImageStorageStrategy));

            if (result && result.getUploadStatus())
            {
                using (System.IO.MemoryStream imageStream = new System.IO.MemoryStream())
                {
                    result.openResult().CopyTo(imageStream);
                    imageStream.Position = 0;

                    DocElectronicSignatureAppearance.SignatureImage = DocGlobalHelper::convertMemoryStreamToContainer(imageStream);
                    DocElectronicSignatureAppearance.SignatureImageMimeType = result.getFileContentType();
                    DocElectronicSignatureAppearance.write();

                    DocElectronicSignatureAppearance_ds.reread();
                }
                SignatureImageDimGroup.visible(true);

                SignatureImage.showImage();

                element.refreshDocumentViewer();
            }
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>RemoveSignatureImage</Name>
				<Type>Button</Type>
				<Methods>
					<Method>
						<Name>clicked</Name>
						<Source><![CDATA[
        /// <summary>
        /// Removes the current signature image.
        /// </summary>
        public void clicked()
        {
            if (DocElectronicSignatureAppearance.SignatureImage == conNull())
            {
                return;
            }

            if (DocElectronicSignatureAppearance.SignatureAppearanceType != DocSignatureAppearanceType::TextOnly)
            {
                checkFailed(strFmt("@DocentricAX3:ElectronicSignatureAppearanceISignatureImageRemoveError", enum2Str(DocElectronicSignatureAppearance.SignatureAppearanceType), enum2Str(DocSignatureAppearanceType::TextOnly)));
                return;
            }

            DocElectronicSignatureAppearance.SignatureImage = conNull();
            DocElectronicSignatureAppearance.SignatureImageMimeType = '';
            DocElectronicSignatureAppearance.write();

            SignatureImageDimGroup.visible(false);

            SignatureImage.showImage();

            element.refreshDocumentViewer();
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>DownloadSignatureImage</Name>
				<Type>Button</Type>
				<Methods>
					<Method>
						<Name>clicked</Name>
						<Source><![CDATA[
        /// <summary>
        /// Downloads the current signature image.
        /// </summary>
        public void clicked()
        {
            if (DocElectronicSignatureAppearance.SignatureImage != conNull())
            {
                str filename = strFmt('%1.%2', DocElectronicSignatureAppearance.SignatureAppearanceId, DocMimeType::GetExtension(DocElectronicSignatureAppearance.SignatureImageMimeType, false));
                File::SendFileToUser(DocGlobalHelper::convertContainerToMemoryStream(DocElectronicSignatureAppearance.SignatureImage), filename, classstr(DocFileUploadTemporarySignatureImageStorageStrategy));
            }
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>SignatureImage</Name>
				<Type>Image</Type>
				<Methods>
					<Method>
						<Name>showImage</Name>
						<Source><![CDATA[
        /// <summary>
        /// Shows the signature image.
        /// </summary>
        public void showImage()
        {
            element.showImage(this, DocElectronicSignatureAppearance.SignatureImage);
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
		</DataControls>
		<Members xmlns="" />
	</SourceCode>
	<DataSources>
		<AxFormDataSource xmlns="">
			<Name>DocElectronicSignatureAppearance</Name>
			<Table>DocElectronicSignatureAppearance</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>ContactPreview</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>CreatedBy</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>CreatedDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Description</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Font</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>FontSize</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Height</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HorizontalOffset</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>LocationPreview</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ModifiedBy</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ModifiedDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PageOrientationPreview</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PageSizePreview</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Partition</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ReasonPreview</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>SignatureAppearanceGroup</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>SignatureAppearanceId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>SignatureAppearanceType</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>SignatureAppearOnPage</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>SignatureDateTimeFormat</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>SignatureImage</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>SignatureImageMimeType</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>SignatureLanguageId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>SignatureLanguageToUse</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>SignaturePosition</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>SignatureSealIconShow</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>SignerPreview</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>UnitOfMeasure</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>VerticalOffset</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Width</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources>
				<AxFormReferencedDataSource>
					<Name>DocElectronicSignatureAppearanceGroup</Name>
					<Table>DocElectronicSignatureAppearanceGroup</Table>
					<Fields>
						<AxFormDataSourceField>
							<DataField>CreatedBy</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>CreatedDateTime</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>Description</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>GroupId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>ModifiedBy</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>ModifiedDateTime</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>Partition</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>RecId</DataField>
						</AxFormDataSourceField>
						<AxFormDataSourceField>
							<DataField>TableId</DataField>
						</AxFormDataSourceField>
					</Fields>
					<ReferencedDataSources />
					<JoinSource>DocElectronicSignatureAppearance</JoinSource>
					<LinkType>OuterJoin</LinkType>
					<JoinRelation>DocElectronicSignatureAppearanceGroup</JoinRelation>
				</AxFormReferencedDataSource>
			</ReferencedDataSources>
			<Index>AppearanceIdx</Index>
			<InsertAtEnd>No</InsertAtEnd>
			<InsertIfEmpty>No</InsertIfEmpty>
			<DataSourceLinks />
			<DerivedDataSources />
		</AxFormDataSource>
	</DataSources>
	<Design>
		<Caption xmlns="">@DocentricAX3:ElectronicSignatureAppearance</Caption>
		<DataSource xmlns="">DocElectronicSignatureAppearance</DataSource>
		<Pattern xmlns="">Custom</Pattern>
		<SetCompany xmlns="">No</SetCompany>
		<Style xmlns="">SimpleListDetails</Style>
		<Controls xmlns="">
			<AxFormControl xmlns=""
				i:type="AxFormActionPaneControl">
				<Name>AppearanceActionPane</Name>
				<ElementPosition>536870911</ElementPosition>
				<FilterExpression>%1</FilterExpression>
				<HeightMode>Auto</HeightMode>
				<Type>ActionPane</Type>
				<VerticalSpacing>-1</VerticalSpacing>
				<Width>0</Width>
				<FormControlExtension
					i:nil="true" />
				<Controls />
				<AlignChild>No</AlignChild>
				<AlignChildren>No</AlignChildren>
				<ArrangeMethod>Vertical</ArrangeMethod>
			</AxFormControl>
			<AxFormControl xmlns=""
				i:type="AxFormGroupControl">
				<Name>AppearanceNavigationListContainer</Name>
				<AutoDeclaration>Yes</AutoDeclaration>
				<ElementPosition>429496729</ElementPosition>
				<FilterExpression>%1</FilterExpression>
				<HeightMode>SizeToAvailable</HeightMode>
				<Type>Group</Type>
				<VerticalSpacing>-1</VerticalSpacing>
				<FormControlExtension
					i:nil="true" />
				<Controls>
					<AxFormControl>
						<Name>NavigationListQuickFilterControl</Name>
						<WidthMode>SizeToAvailable</WidthMode>
						<FormControlExtension>
							<Name>QuickFilterControl</Name>
							<ExtensionComponents />
							<ExtensionProperties>
								<AxFormControlExtensionProperty>
									<Name>targetControlName</Name>
									<Type>String</Type>
									<Value>ListGrid</Value>
								</AxFormControlExtensionProperty>
								<AxFormControlExtensionProperty>
									<Name>defaultColumnName</Name>
									<Type>String</Type>
									<Value>DocElectronicSignatureAppearance_AppearanceId</Value>
								</AxFormControlExtensionProperty>
								<AxFormControlExtensionProperty>
									<Name>placeholderText</Name>
									<Type>String</Type>
								</AxFormControlExtensionProperty>
							</ExtensionProperties>
						</FormControlExtension>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormGridControl">
						<Name>ListGrid</Name>
						<AllowEdit>No</AllowEdit>
						<ElementPosition>715827882</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<Type>Grid</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<WidthMode>SizeToContent</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormStringControl">
								<Name>ListGrid_SignatureAppearanceId</Name>
								<Type>String</Type>
								<FormControlExtension
									i:nil="true" />
								<DataField>SignatureAppearanceId</DataField>
								<DataSource>DocElectronicSignatureAppearance</DataSource>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormComboBoxControl">
								<Name>ListGrid_SignatureAppearanceType</Name>
								<Type>ComboBox</Type>
								<FormControlExtension
									i:nil="true" />
								<DataField>SignatureAppearanceType</DataField>
								<DataSource>DocElectronicSignatureAppearance</DataSource>
								<Items />
							</AxFormControl>
						</Controls>
						<AlternateRowShading>No</AlternateRowShading>
						<DataGroup>Navigation</DataGroup>
						<DataSource>DocElectronicSignatureAppearance</DataSource>
						<GridLinesStyle>Vertical</GridLinesStyle>
						<MultiSelect>No</MultiSelect>
						<ShowRowLabels>No</ShowRowLabels>
						<Style>List</Style>
					</AxFormControl>
				</Controls>
				<RightMargin>0</RightMargin>
				<RightMarginMode>Fixed</RightMarginMode>
				<FrameType>None</FrameType>
				<Style>SidePanel</Style>
			</AxFormControl>
			<AxFormControl xmlns=""
				i:type="AxFormTabControl">
				<Name>AppearanceTab</Name>
				<AlignControl>No</AlignControl>
				<AutoDeclaration>Yes</AutoDeclaration>
				<ElementPosition>1879048190</ElementPosition>
				<FilterExpression>%1</FilterExpression>
				<Type>Tab</Type>
				<VerticalSpacing>-1</VerticalSpacing>
				<FormControlExtension
					i:nil="true" />
				<Controls>
					<AxFormControl xmlns=""
						i:type="AxFormTabPageControl">
						<Name>MainTabPage</Name>
						<Type>TabPage</Type>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>AppearanceHeader</Name>
								<ElementPosition>1073741823</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<Type>Group</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>Header_SignatureAppearanceId</Name>
										<Type>String</Type>
										<FormControlExtension
											i:nil="true" />
										<DataField>SignatureAppearanceId</DataField>
										<DataSource>DocElectronicSignatureAppearance</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>Header_Description</Name>
										<Type>String</Type>
										<FormControlExtension
											i:nil="true" />
										<DataField>Description</DataField>
										<DataSource>DocElectronicSignatureAppearance</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormReferenceGroupControl">
										<Name>AppearanceHeader_SignatureAppearanceGroup</Name>
										<Type>ReferenceGroup</Type>
										<FormControlExtension
											i:nil="true" />
										<Controls />
										<DataSource>DocElectronicSignatureAppearance</DataSource>
										<ReferenceField>SignatureAppearanceGroup</ReferenceField>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormComboBoxControl">
										<Name>Header_SignatureAppearanceType</Name>
										<Type>ComboBox</Type>
										<FormControlExtension
											i:nil="true" />
										<DataField>SignatureAppearanceType</DataField>
										<DataSource>DocElectronicSignatureAppearance</DataSource>
										<Items />
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormCheckBoxControl">
										<Name>AppearanceHeader_SignatureSealIconShow</Name>
										<Type>CheckBox</Type>
										<FormControlExtension
											i:nil="true" />
										<DataField>SignatureSealIconShow</DataField>
										<DataSource>DocElectronicSignatureAppearance</DataSource>
									</AxFormControl>
								</Controls>
								<ArrangeMethod>HorizontalLeft</ArrangeMethod>
								<ColumnsMode>Fill</ColumnsMode>
								<DataGroup>Overview</DataGroup>
								<DataSource>DocElectronicSignatureAppearance</DataSource>
								<FrameType>None</FrameType>
								<Style>DetailTitleContainer</Style>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>TwoColumnsGroup</Name>
								<HeightMode>SizeToAvailable</HeightMode>
								<Type>Group</Type>
								<WidthMode>SizeToAvailable</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormGroupControl">
										<Name>LeftGroup</Name>
										<HeightMode>SizeToAvailable</HeightMode>
										<Type>Group</Type>
										<WidthMode>SizeToAvailable</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<Controls>
											<AxFormControl xmlns=""
												i:type="AxFormTabControl">
												<Name>LeftTab</Name>
												<Type>Tab</Type>
												<FormControlExtension
													i:nil="true" />
												<Controls>
													<AxFormControl xmlns=""
														i:type="AxFormTabPageControl">
														<Name>LeftTabPage</Name>
														<Type>TabPage</Type>
														<FormControlExtension
															i:nil="true" />
														<Controls>
															<AxFormControl xmlns=""
																i:type="AxFormTabControl">
																<Name>LeftTabDetails</Name>
																<Type>Tab</Type>
																<FormControlExtension
																	i:nil="true" />
																<Controls>
																	<AxFormControl xmlns=""
																		i:type="AxFormTabPageControl">
																		<Name>GeneralTabPage</Name>
																		<Pattern>FieldsFieldGroups</Pattern>
																		<PatternVersion>1.1</PatternVersion>
																		<Type>TabPage</Type>
																		<FormControlExtension
																			i:nil="true" />
																		<Controls>
																			<AxFormControl xmlns=""
																				i:type="AxFormGroupControl">
																				<Name>PositionOnPageGroup</Name>
																				<Type>Group</Type>
																				<FormControlExtension
																					i:nil="true" />
																				<Controls>
																					<AxFormControl xmlns=""
																						i:type="AxFormComboBoxControl">
																						<Name>PositionOnPageGroup_SignaturePosition</Name>
																						<Type>ComboBox</Type>
																						<FormControlExtension
																							i:nil="true" />
																						<DataField>SignaturePosition</DataField>
																						<DataSource>DocElectronicSignatureAppearance</DataSource>
																						<Items />
																					</AxFormControl>
																					<AxFormControl xmlns=""
																						i:type="AxFormComboBoxControl">
																						<Name>PositionOnPageGroup_UnitOfMeasure</Name>
																						<Type>ComboBox</Type>
																						<FormControlExtension
																							i:nil="true" />
																						<DataField>UnitOfMeasure</DataField>
																						<DataSource>DocElectronicSignatureAppearance</DataSource>
																						<Items />
																					</AxFormControl>
																				</Controls>
																				<Breakable>No</Breakable>
																				<DataGroup>PositionOnPage</DataGroup>
																				<DataSource>DocElectronicSignatureAppearance</DataSource>
																			</AxFormControl>
																			<AxFormControl xmlns=""
																				i:type="AxFormGroupControl">
																				<Name>RectangleOffsetGroup</Name>
																				<Type>Group</Type>
																				<FormControlExtension
																					i:nil="true" />
																				<Controls>
																					<AxFormControl xmlns=""
																						i:type="AxFormRealControl">
																						<Name>RectangleOffset_HorizontalOffset</Name>
																						<Type>Real</Type>
																						<FormControlExtension
																							i:nil="true" />
																						<DataField>HorizontalOffset</DataField>
																						<DataSource>DocElectronicSignatureAppearance</DataSource>
																					</AxFormControl>
																					<AxFormControl xmlns=""
																						i:type="AxFormRealControl">
																						<Name>RectangleOffset_VerticalOffset</Name>
																						<Type>Real</Type>
																						<FormControlExtension
																							i:nil="true" />
																						<DataField>VerticalOffset</DataField>
																						<DataSource>DocElectronicSignatureAppearance</DataSource>
																					</AxFormControl>
																				</Controls>
																				<Breakable>No</Breakable>
																				<DataGroup>RectangleOffset</DataGroup>
																				<DataSource>DocElectronicSignatureAppearance</DataSource>
																			</AxFormControl>
																			<AxFormControl xmlns=""
																				i:type="AxFormGroupControl">
																				<Name>RectangleSizeGroup</Name>
																				<Type>Group</Type>
																				<FormControlExtension
																					i:nil="true" />
																				<Controls>
																					<AxFormControl xmlns=""
																						i:type="AxFormRealControl">
																						<Name>RectangleSize_Width</Name>
																						<Type>Real</Type>
																						<FormControlExtension
																							i:nil="true" />
																						<DataField>Width</DataField>
																						<DataSource>DocElectronicSignatureAppearance</DataSource>
																					</AxFormControl>
																					<AxFormControl xmlns=""
																						i:type="AxFormRealControl">
																						<Name>RectangleSize_Height</Name>
																						<Type>Real</Type>
																						<FormControlExtension
																							i:nil="true" />
																						<DataField>Height</DataField>
																						<DataSource>DocElectronicSignatureAppearance</DataSource>
																					</AxFormControl>
																				</Controls>
																				<Breakable>No</Breakable>
																				<DataGroup>RectangleSize</DataGroup>
																				<DataSource>DocElectronicSignatureAppearance</DataSource>
																			</AxFormControl>
																			<AxFormControl xmlns=""
																				i:type="AxFormGroupControl">
																				<Name>PositionOnDocumentGroup</Name>
																				<Type>Group</Type>
																				<FormControlExtension
																					i:nil="true" />
																				<Controls>
																					<AxFormControl xmlns=""
																						i:type="AxFormComboBoxControl">
																						<Name>PositionOnDocument_SignatureAppearOnPage</Name>
																						<Type>ComboBox</Type>
																						<FormControlExtension
																							i:nil="true" />
																						<DataField>SignatureAppearOnPage</DataField>
																						<DataSource>DocElectronicSignatureAppearance</DataSource>
																						<Items />
																					</AxFormControl>
																				</Controls>
																				<DataGroup>PositionOnDocument</DataGroup>
																				<DataSource>DocElectronicSignatureAppearance</DataSource>
																			</AxFormControl>
																			<AxFormControl xmlns=""
																				i:type="AxFormGroupControl">
																				<Name>TextGroup</Name>
																				<Type>Group</Type>
																				<FormControlExtension
																					i:nil="true" />
																				<Controls>
																					<AxFormControl xmlns=""
																						i:type="AxFormComboBoxControl">
																						<Name>Text_Font</Name>
																						<Type>ComboBox</Type>
																						<FormControlExtension
																							i:nil="true" />
																						<DataField>Font</DataField>
																						<DataSource>DocElectronicSignatureAppearance</DataSource>
																						<Items />
																					</AxFormControl>
																					<AxFormControl xmlns=""
																						i:type="AxFormIntegerControl">
																						<Name>Text_FontSize</Name>
																						<Type>Integer</Type>
																						<FormControlExtension
																							i:nil="true" />
																						<DataField>FontSize</DataField>
																						<DataSource>DocElectronicSignatureAppearance</DataSource>
																					</AxFormControl>
																				</Controls>
																				<Breakable>No</Breakable>
																				<DataGroup>Text</DataGroup>
																				<DataSource>DocElectronicSignatureAppearance</DataSource>
																			</AxFormControl>
																		</Controls>
																		<ColumnsMode>Fill</ColumnsMode>
																		<Caption>@DocentricAX3:EloectronicSignatureAppearanceGeneralTabPage</Caption>
																		<DataSource>DocElectronicSignatureAppearance</DataSource>
																	</AxFormControl>
																	<AxFormControl xmlns=""
																		i:type="AxFormTabPageControl">
																		<Name>SignatureImageTabPage</Name>
																		<AutoDeclaration>Yes</AutoDeclaration>
																		<Pattern>ImagePreview</Pattern>
																		<PatternVersion>1.1</PatternVersion>
																		<Type>TabPage</Type>
																		<FormControlExtension
																			i:nil="true" />
																		<Controls>
																			<AxFormControl xmlns=""
																				i:type="AxFormActionPaneControl">
																				<Name>ActionPaneSignatureImage</Name>
																				<ElementPosition>715827882</ElementPosition>
																				<FilterExpression>%1</FilterExpression>
																				<Type>ActionPane</Type>
																				<VerticalSpacing>-1</VerticalSpacing>
																				<FormControlExtension
																					i:nil="true" />
																				<Controls>
																					<AxFormControl xmlns=""
																						i:type="AxFormButtonGroupControl">
																						<Name>ButtonGroupSignatureImage</Name>
																						<ElementPosition>1073741823</ElementPosition>
																						<FilterExpression>%1</FilterExpression>
																						<HeightMode>Auto</HeightMode>
																						<Left>0</Left>
																						<Type>ButtonGroup</Type>
																						<VerticalSpacing>-1</VerticalSpacing>
																						<WidthMode>Auto</WidthMode>
																						<FormControlExtension
																							i:nil="true" />
																						<Controls>
																							<AxFormControl xmlns=""
																								i:type="AxFormButtonControl">
																								<Name>ChangeSignatureImage</Name>
																								<AutoDeclaration>Yes</AutoDeclaration>
																								<ElementPosition>1073741822</ElementPosition>
																								<FilterExpression>%1</FilterExpression>
																								<HeightMode>Auto</HeightMode>
																								<Type>Button</Type>
																								<VerticalSpacing>-1</VerticalSpacing>
																								<WidthMode>Auto</WidthMode>
																								<FormControlExtension
																									i:nil="true" />
																								<ButtonDisplay>TextOnly</ButtonDisplay>
																								<NeedsRecord>Yes</NeedsRecord>
																								<SaveRecord>No</SaveRecord>
																								<Text>@SYS1038</Text>
																							</AxFormControl>
																							<AxFormControl xmlns=""
																								i:type="AxFormButtonControl">
																								<Name>RemoveSignatureImage</Name>
																								<AutoDeclaration>Yes</AutoDeclaration>
																								<ElementPosition>1610612733</ElementPosition>
																								<FilterExpression>%1</FilterExpression>
																								<HeightMode>Auto</HeightMode>
																								<Type>Button</Type>
																								<VerticalSpacing>-1</VerticalSpacing>
																								<WidthMode>Auto</WidthMode>
																								<FormControlExtension
																									i:nil="true" />
																								<ButtonDisplay>TextOnly</ButtonDisplay>
																								<NeedsRecord>Yes</NeedsRecord>
																								<SaveRecord>No</SaveRecord>
																								<Text>@SYS26394</Text>
																							</AxFormControl>
																							<AxFormControl xmlns=""
																								i:type="AxFormButtonControl">
																								<Name>DownloadSignatureImage</Name>
																								<AutoDeclaration>Yes</AutoDeclaration>
																								<ElementPosition>1610612733</ElementPosition>
																								<FilterExpression>%1</FilterExpression>
																								<HeightMode>Auto</HeightMode>
																								<Type>Button</Type>
																								<VerticalSpacing>-1</VerticalSpacing>
																								<WidthMode>Auto</WidthMode>
																								<FormControlExtension
																									i:nil="true" />
																								<ButtonDisplay>TextOnly</ButtonDisplay>
																								<NeedsRecord>Yes</NeedsRecord>
																								<SaveRecord>No</SaveRecord>
																								<Text>@ApplicationFoundation:DocuFileSaveDownload</Text>
																							</AxFormControl>
																						</Controls>
																						<DataSource>DocElectronicSignatureAppearance</DataSource>
																					</AxFormControl>
																				</Controls>
																				<AlignChild>No</AlignChild>
																				<AlignChildren>No</AlignChildren>
																				<ArrangeMethod>Vertical</ArrangeMethod>
																				<DataSource>DocElectronicSignatureAppearance</DataSource>
																				<Style>Strip</Style>
																			</AxFormControl>
																			<AxFormControl xmlns=""
																				i:type="AxFormGroupControl">
																				<Name>SignatureImageGroup</Name>
																				<AutoDeclaration>Yes</AutoDeclaration>
																				<Type>Group</Type>
																				<FormControlExtension
																					i:nil="true" />
																				<Controls>
																					<AxFormControl xmlns=""
																						i:type="AxFormImageControl">
																						<Name>SignatureImage</Name>
																						<AutoDeclaration>Yes</AutoDeclaration>
																						<ElementPosition>1431655764</ElementPosition>
																						<FilterExpression>%1</FilterExpression>
																						<Height>0</Height>
																						<Type>Image</Type>
																						<VerticalSpacing>-1</VerticalSpacing>
																						<Width>0</Width>
																						<FormControlExtension
																							i:nil="true" />
																						<Label>Signature image</Label>
																						<ShowLabel>No</ShowLabel>
																					</AxFormControl>
																					<AxFormControl xmlns=""
																						i:type="AxFormGroupControl">
																						<Name>SignatureImageDimGroup</Name>
																						<AutoDeclaration>Yes</AutoDeclaration>
																						<Pattern>FieldsFieldGroups</Pattern>
																						<PatternVersion>1.1</PatternVersion>
																						<Type>Group</Type>
																						<FormControlExtension
																							i:nil="true" />
																						<Controls>
																							<AxFormControl xmlns=""
																								i:type="AxFormStringControl">
																								<Name>SignatureImageDimGroup_imageDimensions</Name>
																								<ExtendedStyle>informationalField</ExtendedStyle>
																								<Type>String</Type>
																								<FormControlExtension
																									i:nil="true" />
																								<DataMethod>imageDimensions</DataMethod>
																								<DataSource>DocElectronicSignatureAppearance</DataSource>
																							</AxFormControl>
																						</Controls>
																						<ColumnsMode>Fill</ColumnsMode>
																						<DataGroup>ImageDimensions</DataGroup>
																						<DataSource>DocElectronicSignatureAppearance</DataSource>
																						<FrameType>None</FrameType>
																					</AxFormControl>
																				</Controls>
																				<Columns>2</Columns>
																			</AxFormControl>
																		</Controls>
																		<Caption>@DocentricAX3:EloectronicSignatureAppearanceSignatureImageTabPage</Caption>
																		<DataSource>DocElectronicSignatureAppearance</DataSource>
																	</AxFormControl>
																	<AxFormControl xmlns=""
																		i:type="AxFormTabPageControl">
																		<Name>SignatureLanguageTabPage</Name>
																		<Pattern>FieldsFieldGroups</Pattern>
																		<PatternVersion>1.1</PatternVersion>
																		<Type>TabPage</Type>
																		<FormControlExtension
																			i:nil="true" />
																		<Controls>
																			<AxFormControl xmlns=""
																				i:type="AxFormGroupControl">
																				<Name>Language</Name>
																				<Type>Group</Type>
																				<FormControlExtension
																					i:nil="true" />
																				<Controls>
																					<AxFormControl xmlns=""
																						i:type="AxFormComboBoxControl">
																						<Name>Language_SignatureLanguageToUse</Name>
																						<Type>ComboBox</Type>
																						<FormControlExtension
																							i:nil="true" />
																						<DataField>SignatureLanguageToUse</DataField>
																						<DataSource>DocElectronicSignatureAppearance</DataSource>
																						<Items />
																					</AxFormControl>
																					<AxFormControl xmlns=""
																						i:type="AxFormStringControl">
																						<Name>Language_SignatureLanguageId</Name>
																						<Type>String</Type>
																						<FormControlExtension
																							i:nil="true" />
																						<DataField>SignatureLanguageId</DataField>
																						<DataSource>DocElectronicSignatureAppearance</DataSource>
																					</AxFormControl>
																					<AxFormControl xmlns=""
																						i:type="AxFormStringControl">
																						<Name>Language_SignatureDateTimeFormat</Name>
																						<Type>String</Type>
																						<FormControlExtension
																							i:nil="true" />
																						<DataField>SignatureDateTimeFormat</DataField>
																						<DataSource>DocElectronicSignatureAppearance</DataSource>
																					</AxFormControl>
																				</Controls>
																				<DataGroup>Language</DataGroup>
																				<DataSource>DocElectronicSignatureAppearance</DataSource>
																				<FrameType>None</FrameType>
																			</AxFormControl>
																		</Controls>
																		<ColumnsMode>Fill</ColumnsMode>
																		<Caption>@DocentricAX3:EloectronicSignatureAppearanceSignatureLanguageTabPage</Caption>
																	</AxFormControl>
																	<AxFormControl xmlns=""
																		i:type="AxFormTabPageControl">
																		<Name>SignaturePreviewValuesTabPage</Name>
																		<Pattern>FieldsFieldGroups</Pattern>
																		<PatternVersion>1.1</PatternVersion>
																		<Type>TabPage</Type>
																		<FormControlExtension
																			i:nil="true" />
																		<Controls>
																			<AxFormControl xmlns=""
																				i:type="AxFormGroupControl">
																				<Name>PreviewTextValues1</Name>
																				<Type>Group</Type>
																				<FormControlExtension
																					i:nil="true" />
																				<Controls>
																					<AxFormControl xmlns=""
																						i:type="AxFormStringControl">
																						<Name>PreviewTextValues1_SignerPreview</Name>
																						<Type>String</Type>
																						<FormControlExtension
																							i:nil="true" />
																						<DataField>SignerPreview</DataField>
																						<DataSource>DocElectronicSignatureAppearance</DataSource>
																					</AxFormControl>
																					<AxFormControl xmlns=""
																						i:type="AxFormStringControl">
																						<Name>PreviewTextValues1_ReasonPreview</Name>
																						<Type>String</Type>
																						<FormControlExtension
																							i:nil="true" />
																						<DataField>ReasonPreview</DataField>
																						<DataSource>DocElectronicSignatureAppearance</DataSource>
																					</AxFormControl>
																				</Controls>
																				<DataGroup>PreviewTextValues1</DataGroup>
																				<DataSource>DocElectronicSignatureAppearance</DataSource>
																			</AxFormControl>
																			<AxFormControl xmlns=""
																				i:type="AxFormGroupControl">
																				<Name>PreviewTextValues2</Name>
																				<Type>Group</Type>
																				<FormControlExtension
																					i:nil="true" />
																				<Controls>
																					<AxFormControl xmlns=""
																						i:type="AxFormStringControl">
																						<Name>PreviewTextValues2_LocationPreview</Name>
																						<Type>String</Type>
																						<FormControlExtension
																							i:nil="true" />
																						<DataField>LocationPreview</DataField>
																						<DataSource>DocElectronicSignatureAppearance</DataSource>
																					</AxFormControl>
																					<AxFormControl xmlns=""
																						i:type="AxFormStringControl">
																						<Name>PreviewTextValues2_ContactPreview</Name>
																						<Type>String</Type>
																						<FormControlExtension
																							i:nil="true" />
																						<DataField>ContactPreview</DataField>
																						<DataSource>DocElectronicSignatureAppearance</DataSource>
																					</AxFormControl>
																				</Controls>
																				<DataGroup>PreviewTextValues2</DataGroup>
																				<DataSource>DocElectronicSignatureAppearance</DataSource>
																				<FrameType>None</FrameType>
																			</AxFormControl>
																			<AxFormControl xmlns=""
																				i:type="AxFormGroupControl">
																				<Name>PreviewPageProperties</Name>
																				<Type>Group</Type>
																				<FormControlExtension
																					i:nil="true" />
																				<Controls>
																					<AxFormControl xmlns=""
																						i:type="AxFormComboBoxControl">
																						<Name>PreviewPageProperties_PageOrientationPreview</Name>
																						<Type>ComboBox</Type>
																						<FormControlExtension
																							i:nil="true" />
																						<DataField>PageOrientationPreview</DataField>
																						<DataSource>DocElectronicSignatureAppearance</DataSource>
																						<Items />
																					</AxFormControl>
																					<AxFormControl xmlns=""
																						i:type="AxFormComboBoxControl">
																						<Name>PreviewPageProperties_PageSizePreview</Name>
																						<Type>ComboBox</Type>
																						<FormControlExtension
																							i:nil="true" />
																						<DataField>PageSizePreview</DataField>
																						<DataSource>DocElectronicSignatureAppearance</DataSource>
																						<Items />
																					</AxFormControl>
																				</Controls>
																				<Breakable>No</Breakable>
																				<DataGroup>PreviewPageProperties</DataGroup>
																				<DataSource>DocElectronicSignatureAppearance</DataSource>
																			</AxFormControl>
																		</Controls>
																		<ColumnsMode>Fill</ColumnsMode>
																		<Caption>@DocentricAX3:EloectronicSignatureAppearanceSignaturePreviewValuesTabPage</Caption>
																	</AxFormControl>
																</Controls>
																<ArrangeMethod>Vertical</ArrangeMethod>
																<Style>FastTabs</Style>
															</AxFormControl>
														</Controls>
														<PanelStyle>DetailsHeader</PanelStyle>
													</AxFormControl>
												</Controls>
												<ArrangeMethod>Vertical</ArrangeMethod>
												<ShowTabs>No</ShowTabs>
											</AxFormControl>
										</Controls>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormGroupControl">
										<Name>RightGroup</Name>
										<HeightMode>SizeToAvailable</HeightMode>
										<Type>Group</Type>
										<FormControlExtension
											i:nil="true" />
										<Controls>
											<AxFormControl>
												<Name>DocDocumentViewer</Name>
												<AutoDeclaration>Yes</AutoDeclaration>
												<HeightMode>SizeToAvailable</HeightMode>
												<WidthMode>SizeToAvailable</WidthMode>
												<FormControlExtension>
													<Name>DocDocumentViewer</Name>
													<ExtensionComponents />
													<ExtensionProperties>
														<AxFormControlExtensionProperty>
															<Name>dataSource</Name>
															<Type>String</Type>
														</AxFormControlExtensionProperty>
														<AxFormControlExtensionProperty>
															<Name>parmDocuManagementOptionsClassName</Name>
															<Type>String</Type>
														</AxFormControlExtensionProperty>
														<AxFormControlExtensionProperty>
															<Name>disableDelete</Name>
															<Type>Enum</Type>
															<TypeName>boolean</TypeName>
															<Value>True</Value>
														</AxFormControlExtensionProperty>
														<AxFormControlExtensionProperty>
															<Name>disableUpload</Name>
															<Type>Enum</Type>
															<TypeName>boolean</TypeName>
															<Value>True</Value>
														</AxFormControlExtensionProperty>
													</ExtensionProperties>
												</FormControlExtension>
											</AxFormControl>
										</Controls>
										<Caption>@DocentricAX3:EloectronicSignatureAppearanceSignaturePreviewTabPage</Caption>
									</AxFormControl>
								</Controls>
								<Columns>2</Columns>
							</AxFormControl>
						</Controls>
						<PanelStyle>Details</PanelStyle>
						<Style>DetailsFormDetails</Style>
					</AxFormControl>
				</Controls>
				<AlignChild>No</AlignChild>
				<ArrangeMethod>Vertical</ArrangeMethod>
				<ShowTabs>No</ShowTabs>
			</AxFormControl>
		</Controls>
	</Design>
	<Parts>
		<AxFormPartReference xmlns="">
			<Name>ReportFactBox</Name>
			<DataSource>DocElectronicSignatureAppearance</DataSource>
			<DataSourceRelation>DocReportPdfSignatureSettings.DocElectronicSignatureAppearance</DataSourceRelation>
			<MenuItemName>DocElectronicSignatureReportFactBox</MenuItemName>
		</AxFormPartReference>
		<AxFormPartReference xmlns="">
			<Name>ReportTemplateFactBox</Name>
			<DataSource>DocElectronicSignatureAppearance</DataSource>
			<DataSourceRelation>DocReportTemplate.DocElectronicSignatureAppearance</DataSourceRelation>
			<MenuItemName>DocElectronicSignatureReportTemplateFactBox</MenuItemName>
		</AxFormPartReference>
	</Parts>
</AxForm>